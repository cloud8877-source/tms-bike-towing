# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

TMS Bike Towing is a multilingual brochure website for a cross-border towing and insurance service company operating in Thailand, Malaysia, and Singapore. Built with Astro 5, Svelte 5, and Tailwind CSS 4, deployed to Cloudflare Pages.

## Commands

```bash
npm run dev      # Start dev server at localhost:4321
npm run build    # Build to ./dist/ (static output)
npm run preview  # Preview production build locally
```

## Architecture

### i18n System
- **4 languages**: English (en), Bahasa Malaysia (ms), Chinese (zh), Thai (th)
- **URL routing**: All pages prefixed with locale (`/en/`, `/ms/`, `/zh/`, `/th/`)
- **Translations**: JSON files in `src/i18n/` loaded via `t(locale, 'key.path')` helper
- **Dynamic routes**: Pages use `[lang]` parameter with `getStaticPaths()` returning all locales

```typescript
// Get current locale in any component
const locale = Astro.currentLocale || getLocaleFromUrl(Astro.url);

// Use translations
import { t } from '../i18n/translations';
t(locale, 'nav.home')  // Returns translated string
```

### Component Hydration Strategy
- **Astro components** (`.astro`): Static, no client JS
- **Svelte components** with `client:load`: Immediate hydration (WhatsAppButton, LanguageSwitcher)
- **Svelte components** with `client:visible`: Lazy hydration when scrolled into view (FAQ, Testimonials)

### Key Files
- `src/layouts/BaseLayout.astro` - Main layout with SEO (hreflang, Open Graph, canonical URLs)
- `src/i18n/utils.ts` - Locale helpers, WhatsApp URL generator
- `src/i18n/translations.ts` - Translation function with English fallback
- `src/i18n/{en,ms,zh,th}.json` - Translation strings

### Pages Structure
```
src/pages/
├── index.astro           # Redirects to /en/
└── [lang]/
    ├── index.astro       # Landing page
    ├── towing.astro      # Towing services + Thailand packages
    ├── insurance.astro   # Insurance with tabbed pricing
    └── about.astro       # Contact info
```

## Brand Colors

### Logo Gradient (Primary Brand Identity)
The TMS logo uses a vertical blue gradient with 3D drop shadow effect:

| Element | Hex | Description |
|---------|-----|-------------|
| Gradient Top | `#01C3FF` | Light Sky Blue |
| Gradient Mid | `#1170FF` | Electric Blue |
| Gradient Bottom | `#211AFF` | Deep Royal Blue |
| 3D Shadow | `#06073D` | Midnight Navy |
| Thai Script | `#2121FF` | Primary Blue |
| Outer Glow | `#E2E2E2` | Light Gray |

### CSS Variables
```css
/* Logo gradient colors */
--color-logo-gradient-top: #01C3FF;
--color-logo-gradient-mid: #1170FF;
--color-logo-gradient-bottom: #211AFF;
--color-logo-shadow: #06073D;

/* Derived brand colors */
--color-primary: #1170FF;       /* Electric Blue - main */
--color-primary-light: #01C3FF; /* Sky Blue - light variant */
--color-primary-dark: #211AFF;  /* Royal Blue - dark variant */
--color-dark: #0A1929;          /* Footer/dark sections */
```

### Utility Classes
```css
.tms-logo-gradient   /* Text gradient matching logo */
.tms-logo-shadow     /* 3D drop shadow effect */
.tms-logo-text       /* Combined gradient + shadow */
.bg-tms-gradient     /* Background gradient (vertical) */
.bg-tms-gradient-horizontal  /* Background gradient (horizontal) */
```

## Deployment

Static site deployed to Cloudflare Pages. Build outputs 17 HTML files (4 pages × 4 languages + redirect).

```bash
# Direct deploy
npx wrangler pages deploy dist
```

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>