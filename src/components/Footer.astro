---
import { getRelativeLocaleUrl } from "astro:i18n";
import { getLocaleFromUrl, type Locale } from "../i18n/utils";
import { t } from "../i18n/translations";

const locale = getLocaleFromUrl(Astro.url) as Locale;
const currentYear = new Date().getFullYear();
---

<footer
  class="bg-white/40 backdrop-blur-xl text-text-main pt-20 pb-10 border-t border-white/60 shadow-[0_-1px_0_0_rgba(255,255,255,0.8)]"
>
  <div class="max-w-[1200px] mx-auto px-4 lg:px-8">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16 stagger-children">
      <!-- Brand Column -->
      <div class="col-span-1 md:col-span-1">
        <div class="flex items-center gap-2 mb-6">
          <img
            src="/images/logo-tms.svg"
            alt="TMS Bike Towing"
            class="h-8 lg:h-10 w-auto"
          />
        </div>
        <p class="text-[#64748b] text-sm leading-relaxed mb-6">
          The trusted partner for cross-border riding enthusiasts since 2009.
          Providing safety, insurance, and peace of mind across Southeast Asia.
        </p>
        <div class="flex gap-4">
          <a
            class="w-10 h-10 flex items-center justify-center text-[#64748b] icon-jewel hover:text-[#1170FF] hover:scale-105 hover:-translate-y-0.5 transition-all duration-200 pop-in"
            style="animation-delay: 300ms;"
            href="#"
          >
            <span class="material-symbols-outlined text-xl">public</span>
          </a>
          <a
            class="w-10 h-10 flex items-center justify-center text-[#64748b] icon-jewel hover:text-[#1170FF] hover:scale-105 hover:-translate-y-0.5 transition-all duration-200 pop-in"
            style="animation-delay: 360ms;"
            href="#"
          >
            <span class="material-symbols-outlined text-xl">share</span>
          </a>
          <a
            class="w-10 h-10 flex items-center justify-center text-[#64748b] icon-jewel hover:text-[#1170FF] hover:scale-105 hover:-translate-y-0.5 transition-all duration-200 pop-in"
            style="animation-delay: 420ms;"
            href="#"
          >
            <span class="material-symbols-outlined text-xl">groups</span>
          </a>
        </div>
      </div>

      <!-- Quick Links -->
      <div>
        <h3 class="font-semibold mb-6 text-sm tracking-wide text-text-main">
          Services
        </h3>
        <ul class="space-y-4 text-sm text-text-secondary">
          <li>
            <a
              class="hover:text-primary transition-colors"
              href={getRelativeLocaleUrl(locale, "/towing")}
              >{t(locale, "nav.towing")}</a>
          </li>
          <li>
            <a
              class="hover:text-primary transition-colors"
              href={getRelativeLocaleUrl(locale, "/insurance")}
              >{t(locale, "nav.insurance")}</a>
          </li>
          <li>
            <a class="hover:text-primary transition-colors" href="#"
              >Cross-Border Transit</a>
          </li>
          <li>
            <a class="hover:text-primary transition-colors" href="#"
              >Route Planning</a>
          </li>
        </ul>
      </div>

      <!-- Support -->
      <div>
        <h3 class="font-semibold mb-6 text-sm tracking-wide text-text-main">
          Company
        </h3>
        <ul class="space-y-4 text-sm text-text-secondary">
          <li>
            <a
              class="hover:text-primary transition-colors"
              href={getRelativeLocaleUrl(locale, "/about")}
              >{t(locale, "nav.about")}</a>
          </li>
          <li>
            <a class="hover:text-primary transition-colors" href="#"
              >Emergency Guide</a>
          </li>
          <li>
            <a class="hover:text-primary transition-colors" href="#"
              >Terms of Service</a>
          </li>
          <li>
            <a class="hover:text-primary transition-colors" href="#"
              >Privacy Policy</a>
          </li>
        </ul>
      </div>

      <!-- Regional Offices -->
      <div>
        <h3 class="font-semibold mb-6 text-sm tracking-wide text-text-main">
          Regional Hubs
        </h3>
        <ul class="space-y-5 text-sm text-text-secondary">
          <li class="flex gap-3 items-start group">
            <div
              class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5 group-hover:bg-primary/20 transition-colors"
            >
              <span
                class="material-symbols-outlined text-sm text-primary group-hover:scale-110 group-hover:-translate-y-0.5 transition-transform"
                >location_on</span
              >
            </div>
            <div>
              <span class="text-text-main font-medium"
                >Bangkok, Thailand (HQ)</span
              >
              <span class="block text-xs text-text-secondary mt-0.5"
                >Vibhavadi Rangsit Rd.</span
              >
            </div>
          </li>
          <li class="flex gap-3 items-start group">
            <div
              class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5 group-hover:bg-primary/20 transition-colors"
            >
              <span
                class="material-symbols-outlined text-sm text-primary group-hover:scale-110 group-hover:-translate-y-0.5 transition-transform"
                >location_on</span
              >
            </div>
            <div>
              <span class="text-text-main font-medium"
                >Kuala Lumpur, Malaysia</span
              >
              <span class="block text-xs text-text-secondary mt-0.5"
                >Jalan Tun Razak</span
              >
            </div>
          </li>
          <li class="flex gap-3 items-start group">
            <div
              class="w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5 group-hover:bg-primary/20 transition-colors"
            >
              <span
                class="material-symbols-outlined text-sm text-primary group-hover:scale-110 group-hover:-translate-y-0.5 transition-transform"
                >location_on</span
              >
            </div>
            <div>
              <span class="text-text-main font-medium"
                >Jurong East, Singapore</span
              >
              <span class="block text-xs text-text-secondary mt-0.5"
                >International Business Park</span
              >
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div
      class="border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-text-secondary gap-4 reveal"
      style="transition-delay: 400ms;"
    >
      <p>
        Â© {currentYear} TMS Bike Towing Services Co., Ltd. All Rights Reserved.
      </p>
      <div class="flex items-center gap-6">
        <span
          class="flex items-center gap-2 hover:text-primary transition-colors"
        >
          <span class="material-symbols-outlined text-sm text-primary"
            >verified</span
          >
          Licensed Provider
        </span>
        <span
          class="flex items-center gap-2 hover:text-primary transition-colors"
        >
          <span class="material-symbols-outlined text-sm text-primary"
            >support_agent</span
          >
          24/7 Support
        </span>
      </div>
    </div>
  </div>
</footer>
